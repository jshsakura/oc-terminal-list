import{c as m,r as f,j as o}from"./index-Bu9V4qqL.js";import{X as k}from"./x-6Zl4r22J.js";import{C,E as v}from"./eraser-D1nLH8EI.js";/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],I=m("send",z),E=({isOpen:c,onClose:d,onSend:b,command:i,setCommand:l,theme:g,t:e})=>{const a=f.useRef(null);f.useEffect(()=>{c&&a.current&&setTimeout(()=>{var t;(t=a.current)==null||t.focus()},100)},[c]);const p=()=>{i.trim()&&(b(i),l(""),d())},y=()=>{var s;const t=(e==null?void 0:e("confirmClearInput"))||"입력한 내용을 모두 지우시겠습니까?";i.trim()&&!confirm(t)||(l(""),(s=a.current)==null||s.focus())},h=async()=>{var t,s;try{const u=await navigator.clipboard.readText();l(i+u),(t=a.current)==null||t.focus()}catch{const x=prompt((e==null?void 0:e("paste"))||"붙여넣을 텍스트:");x&&(l(i+x),(s=a.current)==null||s.focus())}},j=t=>{t.key==="Enter"&&(t.ctrlKey||t.metaKey)&&(t.preventDefault(),p()),t.key==="Escape"&&d()};if(!c)return null;const r=g;return o.jsxs(o.Fragment,{children:[o.jsx("div",{style:n.backdrop,onClick:d}),o.jsx("style",{children:`
        .command-input-textarea::placeholder {
          color: ${r.foreground||r.white||"#a6adc8"};
          opacity: 0.5;
        }
      `}),o.jsxs("div",{style:{...n.modal,backgroundColor:r.ui.bg,borderColor:r.ui.border},children:[o.jsxs("div",{style:{...n.header,borderBottomColor:r.ui.border},children:[o.jsx("h3",{style:{...n.title,color:r.foreground||r.ui.fg||"#cdd6f4"},children:(e==null?void 0:e("commandInput"))||"명령어 입력"}),o.jsx("button",{onClick:d,style:{...n.closeButton,color:r.foreground||r.white||"#bac2de"},title:(e==null?void 0:e("close"))||"닫기",children:o.jsx(k,{size:18})})]}),o.jsx("div",{style:n.body,children:o.jsx("textarea",{ref:a,value:i,onChange:t=>l(t.target.value),onKeyDown:j,placeholder:(e==null?void 0:e("commandInputPlaceholder"))||"명령어를 입력하세요... (Ctrl+Enter로 전송)",className:"command-input-textarea",style:{...n.textarea,backgroundColor:r.ui.bgSecondary,color:r.foreground||r.white||"#cdd6f4",borderColor:r.ui.border},autoFocus:!0})}),o.jsxs("div",{style:{...n.footer,borderTopColor:r.ui.border},children:[o.jsx("button",{onClick:h,style:{...n.clearButton,backgroundColor:r.ui.bgTertiary,color:r.foreground||r.white||"#cdd6f4",opacity:1},title:(e==null?void 0:e("paste"))||"붙여넣기",children:o.jsx(C,{size:16})}),o.jsx("button",{onClick:y,disabled:!i.trim(),style:{...n.clearButton,backgroundColor:i.trim()?r.cyan||r.teal||"#94e2d5":r.ui.bgSecondary,color:i.trim()?"#1e1e2e":r.brightBlack||"#6c7086",opacity:i.trim()?1:.5},title:(e==null?void 0:e("clearInput"))||"내용 지우기",children:o.jsx(v,{size:16})}),o.jsxs("button",{onClick:p,disabled:!i.trim(),style:{...n.sendButton,backgroundColor:i.trim()?r.ui.accent:r.ui.bgSecondary,color:i.trim()?"#ffffff":r.brightBlack||"#6c7086",opacity:i.trim()?1:.5},children:[o.jsx(I,{size:14}),o.jsx("span",{children:(e==null?void 0:e("send"))||"전송"})]})]})]})]})},n={backdrop:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",zIndex:1e4,backdropFilter:"blur(2px)"},modal:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"90%",maxWidth:"500px",maxHeight:"80vh",borderRadius:"8px",border:"1px solid",zIndex:10001,display:"flex",flexDirection:"column"},header:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",borderBottom:"1px solid"},title:{margin:0,fontSize:"16px",fontWeight:"600"},closeButton:{background:"none",border:"none",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.2s"},body:{flex:1,padding:"16px",display:"flex",flexDirection:"column",overflow:"auto"},textarea:{width:"100%",minHeight:"150px",maxHeight:"300px",padding:"12px",fontSize:"14px",fontFamily:"monospace",border:"1px solid",borderRadius:"4px",resize:"vertical",outline:"none",lineHeight:"1.5"},footer:{display:"flex",gap:"8px",padding:"16px",borderTop:"1px solid"},clearButton:{padding:"10px",fontSize:"14px",fontWeight:"500",border:"none",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease",minWidth:"44px",minHeight:"44px"},sendButton:{flex:1,padding:"10px 16px",fontSize:"14px",fontWeight:"500",border:"none",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",transition:"all 0.2s ease"}};export{E as default};
