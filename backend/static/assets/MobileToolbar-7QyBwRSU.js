import{c as d,r as i,j as e}from"./index-za143ZV_.js";import{C,E}from"./eraser-nLpwDXEE.js";import{C as z}from"./chevron-right-C5posj-f.js";/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],B=d("arrow-down",W);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],D=d("arrow-left",L);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],R=d("arrow-right",_);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],A=d("arrow-up",V);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],M=d("chevron-left",H);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],$=d("message-square",N),q=s=>{i.useEffect(()=>{if(!window.visualViewport||!s.current)return;const a=()=>{const f=window.visualViewport.height,x=window.visualViewport.offsetTop,u=window.innerHeight-f-x;s.current.style.bottom=`${u}px`};return a(),window.visualViewport.addEventListener("resize",a),window.visualViewport.addEventListener("scroll",a),()=>{window.visualViewport.removeEventListener("resize",a),window.visualViewport.removeEventListener("scroll",a)}},[s])},F=({onSendKey:s,isVisible:a,onClose:f,activeSessionId:x,onOpenCommandInput:u})=>{const b=i.useRef(null),c=i.useRef(null),[r,n]=i.useState(null),[w,v]=i.useState(!1),[y,m]=i.useState(!1);q(b);const p=()=>{if(!c.current)return;const{scrollLeft:t,scrollWidth:h,clientWidth:T}=c.current;v(t>10),m(t<h-T-10)};i.useEffect(()=>{p();const t=c.current;if(t)return t.addEventListener("scroll",p),()=>t.removeEventListener("scroll",p)},[]),i.useEffect(()=>{const t=()=>p();return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]);const g=()=>{c.current&&c.current.scrollBy({left:-150,behavior:"smooth"})},k=()=>{c.current&&c.current.scrollBy({left:150,behavior:"smooth"})},j=()=>{const t=prompt("Paste text here:");t&&s&&s(t)},S=()=>{s&&s("")},l=(t,h)=>{n(t),h(),setTimeout(()=>n(null),150)};return e.jsxs(e.Fragment,{children:[e.jsx("style",{children:`
        .mobile-toolbar-scroll::-webkit-scrollbar {
          display: none;
        }
      `}),e.jsxs("div",{ref:b,style:{...o.toolbar,transform:a?"translateY(0)":"translateY(100%)",opacity:a?1:0},children:[w&&e.jsx("button",{onClick:g,style:o.scrollButton,"aria-label":"Scroll left",children:e.jsx(M,{size:16,strokeWidth:2.5})}),e.jsx("div",{ref:c,className:"mobile-toolbar-scroll",style:o.scrollContainer,onScroll:p,children:e.jsxs("div",{style:o.buttonGroup,children:[e.jsx("button",{onTouchStart:()=>n("cmd"),onTouchEnd:t=>{t.preventDefault(),l("cmd",()=>u==null?void 0:u())},style:{...o.button,...o.primary,transform:r==="cmd"?"scale(0.9)":"scale(1)",opacity:r==="cmd"?.7:1},title:"명령어 입력 (한글 지원)",children:e.jsx($,{size:13,strokeWidth:2})}),e.jsx("button",{onTouchStart:()=>n("esc"),onTouchEnd:t=>{t.preventDefault(),l("esc",()=>s("\x1B"))},style:{...o.button,...o.secondary,transform:r==="esc"?"scale(0.9)":"scale(1)",opacity:r==="esc"?.7:1},children:"ESC"}),e.jsx("button",{onTouchStart:()=>n("tab"),onTouchEnd:t=>{t.preventDefault(),l("tab",()=>s("	"))},style:{...o.button,...o.secondary,transform:r==="tab"?"scale(0.9)":"scale(1)",opacity:r==="tab"?.7:1},children:"TAB"}),e.jsx("button",{onTouchStart:()=>n("ctrlc"),onTouchEnd:t=>{t.preventDefault(),l("ctrlc",()=>s(""))},style:{...o.button,...o.warning,transform:r==="ctrlc"?"scale(0.9)":"scale(1)",opacity:r==="ctrlc"?.7:1},title:"Ctrl+C (Stop)",children:"^C"}),e.jsx("button",{onTouchStart:()=>n("up"),onTouchEnd:t=>{t.preventDefault(),l("up",()=>s("\x1B[A"))},style:{...o.button,...o.secondary,transform:r==="up"?"scale(0.9)":"scale(1)",opacity:r==="up"?.7:1},children:e.jsx(A,{size:13,strokeWidth:2})}),e.jsx("button",{onTouchStart:()=>n("down"),onTouchEnd:t=>{t.preventDefault(),l("down",()=>s("\x1B[B"))},style:{...o.button,...o.secondary,transform:r==="down"?"scale(0.9)":"scale(1)",opacity:r==="down"?.7:1},children:e.jsx(B,{size:13,strokeWidth:2})}),e.jsx("button",{onTouchStart:()=>n("left"),onTouchEnd:t=>{t.preventDefault(),l("left",()=>s("\x1B[D"))},style:{...o.button,...o.secondary,transform:r==="left"?"scale(0.9)":"scale(1)",opacity:r==="left"?.7:1},children:e.jsx(D,{size:13,strokeWidth:2})}),e.jsx("button",{onTouchStart:()=>n("right"),onTouchEnd:t=>{t.preventDefault(),l("right",()=>s("\x1B[C"))},style:{...o.button,...o.secondary,transform:r==="right"?"scale(0.9)":"scale(1)",opacity:r==="right"?.7:1},children:e.jsx(R,{size:13,strokeWidth:2})}),e.jsx("button",{onTouchStart:()=>n("paste"),onTouchEnd:t=>{t.preventDefault(),l("paste",j)},style:{...o.button,...o.secondary,transform:r==="paste"?"scale(0.9)":"scale(1)",opacity:r==="paste"?.7:1},children:e.jsx(C,{size:13,strokeWidth:2})}),e.jsx("button",{onTouchStart:()=>n("clear"),onTouchEnd:t=>{t.preventDefault(),l("clear",S)},style:{...o.button,...o.clear,transform:r==="clear"?"scale(0.9)":"scale(1)",opacity:r==="clear"?.7:1},title:"Clear current line (Ctrl+U)",children:e.jsx(E,{size:13,strokeWidth:2})})]})}),y&&e.jsx("button",{onClick:k,style:o.scrollButton,"aria-label":"Scroll right",children:e.jsx(z,{size:16,strokeWidth:2.5})})]})]})},o={toolbar:{position:"fixed",left:0,right:0,bottom:0,backgroundColor:"transparent",padding:"4px",zIndex:9999,transition:"transform 0.2s ease, opacity 0.2s ease",display:"flex",alignItems:"center",gap:"4px"},scrollContainer:{flex:1,overflowX:"auto",overflowY:"hidden",WebkitOverflowScrolling:"touch",scrollbarWidth:"none",msOverflowStyle:"none",scrollSnapType:"x proximity",display:"flex",justifyContent:"center"},buttonGroup:{display:"flex",gap:"clamp(3px, 1vw, 6px)",alignItems:"center",flexWrap:"nowrap",padding:"0 4px"},scrollButton:{flexShrink:0,width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(24, 24, 37, 0.95)",backdropFilter:"blur(8px)",border:"none",borderRadius:"6px",color:"#cdd6f4",cursor:"pointer",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.4)",transition:"all 0.15s ease",WebkitTapHighlightColor:"transparent"},button:{flex:"0 0 auto",padding:"clamp(4px, 1.5vw, 6px) clamp(6px, 2vw, 10px)",fontSize:"clamp(9px, 2.5vw, 11px)",fontWeight:"500",border:"none",borderRadius:"4px",cursor:"pointer",userSelect:"none",WebkitTapHighlightColor:"transparent",transition:"all 0.15s cubic-bezier(0.4, 0, 0.2, 1)",minWidth:"clamp(26px, 8vw, 32px)",minHeight:"clamp(26px, 8vw, 32px)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.3)",willChange:"transform, opacity",scrollSnapAlign:"start"},primary:{backgroundColor:"#89b4fa",color:"#1e1e2e"},secondary:{backgroundColor:"#313244",color:"#cdd6f4"},warning:{backgroundColor:"#fab387",color:"#1e1e2e"},clear:{backgroundColor:"#94e2d5",color:"#1e1e2e"}};export{F as default};
