import{c as b,r as a,j as e,u as K}from"./index-DqcDFUo8.js";import{X}from"./x-wwDVslGY.js";import{C as U}from"./chevron-right-BM9qZjne.js";import{F as J}from"./file-C8WLY7tE.js";/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Q=b("chevron-down",G);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],te=b("copy",ee);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],ne=b("cpu",oe);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],V=b("file-plus",re);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],se=b("folder-open",ie);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],O=b("folder-plus",ae);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]],de=b("folder-tree",le);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],pe=b("folder",ce);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],xe=b("refresh-cw",ue);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],q=b("terminal",ye);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],fe=b("trash-2",he),ge=({theme:t,onFileSelect:m,onFolderSelect:c,language:L="en"})=>{const[z,E]=a.useState(new Set([""])),[R,k]=a.useState([]),[x,C]=a.useState(!0),[B,p]=a.useState("/workspace"),[M,j]=a.useState(""),[y,f]=a.useState(null),[d,S]=a.useState(""),[l,g]=a.useState(null),[W,w]=a.useState(null);a.useEffect(()=>{I("")},[]);const I=async o=>{try{const r=localStorage.getItem("auth_token"),u=await fetch(`/api/files?path=${encodeURIComponent(o)}`,{headers:{Authorization:`Bearer ${r}`}});return u.ok?(await u.json()).items:(console.error("Failed to load directory:",o),[])}catch(r){return console.error("Failed to load directory:",r),[]}},T=async o=>{const r=new Set(z);r.has(o)?r.delete(o):r.add(o),E(r)};a.useEffect(()=>{(async()=>{C(!0);const r=await I("");k(r),C(!1)})()},[]);const F=()=>{S(""),f("file")},N=()=>{S(""),f("folder")},$=async()=>{if(d.trim())try{const o=localStorage.getItem("auth_token"),r=M?`${M}/${d}`:d,u=await fetch("/api/files/create",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({path:r,type:y==="file"?"file":"directory"})});if(u.ok){const v=await I("");k(v),f(null),S("")}else{const v=await u.json();alert(`${y==="file"?"íŒŒì¼":"í´ë”"} ìƒì„± ì‹¤íŒ¨: ${v.detail||"ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜"}`)}}catch(o){console.error("Failed to create:",o),alert(`${y==="file"?"íŒŒì¼":"í´ë”"} ìƒì„± ì‹¤íŒ¨`)}},_=o=>{j(o),p(o?`/workspace/${o}`:"/workspace"),c&&c(o)},n=async()=>{const o=await I("");k(o)},H=async o=>{if(confirm(`"${o.name}"ì„(ë¥¼) ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?`))try{const r=localStorage.getItem("auth_token"),u=await fetch(`/api/files?path=${encodeURIComponent(o.path)}`,{method:"DELETE",headers:{Authorization:`Bearer ${r}`}});if(u.ok)await n();else{const v=await u.json();alert(`ì‚­ì œ ì‹¤íŒ¨: ${v.detail||"ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜"}`)}}catch(r){console.error("Failed to delete:",r),alert("ì‚­ì œ ì‹¤íŒ¨")}},P=async o=>{try{await navigator.clipboard.writeText(`/workspace/${o.path}`),alert("ê²½ë¡œê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤")}catch(r){console.error("Failed to copy path:",r),alert("ê²½ë¡œ ë³µì‚¬ ì‹¤íŒ¨")}},A=o=>{if(o.type==="directory")c(o.path);else{const r=o.path.substring(0,o.path.lastIndexOf("/"));c(r)}};a.useEffect(()=>{const o=()=>g(null);if(l)return document.addEventListener("click",o),()=>document.removeEventListener("click",o)},[l]);const D=a.useRef(null);return a.useEffect(()=>{y&&D.current&&setTimeout(()=>{var o;(o=D.current)==null||o.focus()},100)},[y]),e.jsxs(e.Fragment,{children:[e.jsx("style",{children:`
        .file-tree-btn:hover {
          opacity: 0.7;
        }
        .create-input::placeholder {
          color: ${t.foreground||t.white||"#a6adc8"};
          opacity: 0.5;
        }
        .context-menu-item:hover {
          background-color: ${t.ui.bgTertiary||"#313244"} !important;
        }
      `}),e.jsxs("div",{style:i.container,children:[e.jsxs("div",{style:{...i.header,backgroundColor:t.ui.bgSecondary,borderBottomColor:t.ui.border},children:[e.jsx("div",{style:{...i.pathDisplay,color:t.ui.textSecondary},children:B}),e.jsxs("div",{style:i.actions,children:[e.jsx("button",{onClick:F,className:"file-tree-btn",style:{...i.actionBtn,color:t.ui.text},title:"ìƒˆ íŒŒì¼",children:e.jsx(V,{size:14})}),e.jsx("button",{onClick:N,className:"file-tree-btn",style:{...i.actionBtn,color:t.ui.text},title:"ìƒˆ í´ë”",children:e.jsx(O,{size:14})})]})]}),e.jsx("div",{style:i.treeContainer,children:x?e.jsx("div",{style:{...i.loading,color:t.ui.textSecondary},children:"ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘..."}):R.map(o=>e.jsx(Z,{item:o,depth:0,expanded:z.has(o.path),onToggle:T,onSelect:m,onFolderSelect:_,selectedPath:M,loadDirectory:I,theme:t,onContextMenu:g},o.path))})]}),l&&e.jsxs("div",{style:{...i.contextMenu,top:l.y,left:l.x,backgroundColor:t.ui.bg,borderColor:t.ui.border},onClick:o=>o.stopPropagation(),children:[l.item.type==="directory"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"context-menu-item",style:{...i.menuItem,color:t.ui.text},onClick:()=>{j(l.item.path),F(),g(null)},children:[e.jsx(V,{size:14}),e.jsx("span",{children:"ìƒˆ íŒŒì¼"})]}),e.jsxs("div",{className:"context-menu-item",style:{...i.menuItem,color:t.ui.text},onClick:()=>{j(l.item.path),N(),g(null)},children:[e.jsx(O,{size:14}),e.jsx("span",{children:"ìƒˆ í´ë”"})]}),e.jsx("div",{style:{...i.menuDivider,backgroundColor:t.ui.border}})]}),e.jsxs("div",{className:"context-menu-item",style:{...i.menuItem,color:t.ui.text},onClick:()=>{P(l.item),g(null)},children:[e.jsx(te,{size:14}),e.jsx("span",{children:"ê²½ë¡œ ë³µì‚¬"})]}),e.jsxs("div",{className:"context-menu-item",style:{...i.menuItem,color:t.ui.text},onClick:()=>{A(l.item),g(null)},children:[e.jsx(q,{size:14}),e.jsx("span",{children:"í„°ë¯¸ë„ì—ì„œ ì—´ê¸°"})]}),e.jsx("div",{style:{...i.menuDivider,backgroundColor:t.ui.border}}),e.jsxs("div",{className:"context-menu-item",style:{...i.menuItem,color:t.red||"#f38ba8"},onClick:()=>{H(l.item),g(null)},children:[e.jsx(fe,{size:14}),e.jsx("span",{children:"ì‚­ì œ"})]})]}),y&&e.jsxs(e.Fragment,{children:[e.jsx("div",{style:i.backdrop,onClick:()=>f(null)}),e.jsxs("div",{style:{...i.modal,backgroundColor:t.ui.bg,borderColor:t.ui.border},children:[e.jsxs("div",{style:{...i.modalHeader,borderBottomColor:t.ui.border},children:[e.jsx("h3",{style:{...i.modalTitle,color:t.foreground||t.ui.fg||"#cdd6f4"},children:y==="file"?"ìƒˆ íŒŒì¼":"ìƒˆ í´ë”"}),e.jsx("button",{onClick:()=>f(null),style:{...i.closeButton,color:t.foreground||t.white||"#bac2de"},children:e.jsx(X,{size:18})})]}),e.jsxs("div",{style:i.modalBody,children:[e.jsx("input",{ref:D,type:"text",value:d,onChange:o=>S(o.target.value),onKeyDown:o=>{o.key==="Enter"?(o.preventDefault(),$()):o.key==="Escape"&&f(null)},placeholder:y==="file"?"íŒŒì¼ ì´ë¦„ì„ ìž…ë ¥í•˜ì„¸ìš”...":"í´ë” ì´ë¦„ì„ ìž…ë ¥í•˜ì„¸ìš”...",className:"create-input",style:{...i.input,backgroundColor:t.ui.bgSecondary,color:t.foreground||t.white||"#cdd6f4",borderColor:t.ui.border},autoFocus:!0}),e.jsxs("div",{style:{...i.hint,color:t.foreground||t.white||"#a6adc8"},children:["ðŸ’¡ ìœ„ì¹˜: ",B||"/workspace"]})]}),e.jsx("div",{style:{...i.modalFooter,borderTopColor:t.ui.border},children:e.jsxs("button",{onClick:$,disabled:!d.trim(),style:{...i.createButton,backgroundColor:d.trim()?t.ui.accent:t.ui.bgSecondary,color:d.trim()?"#ffffff":t.brightBlack||"#6c7086",opacity:d.trim()?1:.5},children:[y==="file"?e.jsx(V,{size:14}):e.jsx(O,{size:14}),e.jsx("span",{children:"ìƒì„±"})]})})]})]})]})},Z=({item:t,depth:m,expanded:c,onToggle:L,onSelect:z,onFolderSelect:E,selectedPath:R,loadDirectory:k,theme:x,onContextMenu:C})=>{const[B,p]=a.useState([]),[M,j]=a.useState(!1),[y,f]=a.useState(!1),d=R===t.path;a.useEffect(()=>{t.type==="directory"&&c&&B.length===0&&(async()=>{j(!0);const g=await k(t.path);p(g),j(!1)})()},[c,t.path,t.type]);const S=()=>{t.type==="directory"?(L(t.path),E(t.path)):z(t.path)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{...i.treeItem,paddingLeft:`${m*16+8}px`,backgroundColor:d||y?x.ui.bgTertiary:"transparent",color:x.ui.text,borderLeft:d?`2px solid ${x.ui.accent}`:"none"},onClick:S,onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),onContextMenu:l=>{l.preventDefault(),l.stopPropagation(),C({x:l.clientX,y:l.clientY,item:t})},children:[t.type==="directory"&&e.jsx("span",{style:{...i.icon,color:x.ui.textSecondary},children:c?e.jsx(Q,{size:14}):e.jsx(U,{size:14})}),t.type!=="directory"&&e.jsx("span",{style:i.icon}),e.jsx("span",{style:{...i.icon,color:t.type==="directory"?x.ui.accent:x.ui.textSecondary},children:t.type==="directory"?c?e.jsx(se,{size:14}):e.jsx(pe,{size:14}):e.jsx(J,{size:14})}),e.jsx("span",{style:i.name,children:t.name})]}),t.type==="directory"&&c&&(M?e.jsx("div",{style:{...i.loading,paddingLeft:`${(m+1)*16+8}px`,color:x.ui.textSecondary},children:"..."}):B.map(l=>e.jsx(Z,{item:l,depth:m+1,expanded:c&&l.type==="directory",onToggle:L,onSelect:z,onFolderSelect:E,selectedPath:R,loadDirectory:k,theme:x,onContextMenu:C},l.path)))]})},i={container:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},header:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px",borderBottom:"1px solid",gap:"8px"},pathDisplay:{fontSize:"11px",fontFamily:"monospace",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",flex:1},actions:{display:"flex",gap:"4px",flexShrink:0},actionBtn:{display:"flex",alignItems:"center",justifyContent:"center",padding:"4px",border:"none",backgroundColor:"transparent",cursor:"pointer",borderRadius:"2px",transition:"opacity 0.15s ease"},treeContainer:{flex:1,overflowY:"auto",overflowX:"hidden"},loading:{padding:"8px",fontSize:"12px"},treeItem:{display:"flex",alignItems:"center",padding:"4px 8px",fontSize:"12px",cursor:"pointer",userSelect:"none",transition:"background-color 0.15s ease"},icon:{display:"flex",alignItems:"center",justifyContent:"center",marginRight:"4px",flexShrink:0},name:{flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},backdrop:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",zIndex:1e4,backdropFilter:"blur(2px)"},modal:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"90%",maxWidth:"400px",borderRadius:"8px",border:"1px solid",zIndex:10001,display:"flex",flexDirection:"column"},modalHeader:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",borderBottom:"1px solid"},modalTitle:{margin:0,fontSize:"16px",fontWeight:"600"},closeButton:{background:"none",border:"none",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.2s"},modalBody:{padding:"16px",display:"flex",flexDirection:"column",gap:"8px"},input:{width:"100%",padding:"12px",fontSize:"14px",fontFamily:"monospace",border:"1px solid",borderRadius:"4px",outline:"none"},contextMenu:{position:"fixed",minWidth:"200px",borderRadius:"4px",border:"1px solid",zIndex:1e4,padding:"4px"},menuItem:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",fontSize:"13px",cursor:"pointer",borderRadius:"2px",transition:"background-color 0.15s ease",userSelect:"none"},menuDivider:{height:"1px",margin:"4px 0"},modalFooter:{display:"flex",padding:"16px",borderTop:"1px solid"},createButton:{flex:1,padding:"10px 16px",fontSize:"14px",fontWeight:"500",border:"none",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",transition:"all 0.2s ease"}},be=({isOpen:t,onClose:m,sessions:c,activeSessionId:L,onSelectSession:z,onNewSession:E,onCloseSession:R,onRenameSession:k,onReconnectSession:x,language:C="en",theme:B,isMobile:p=!1,width:M=250,onResizeStart:j,onFileSelect:y,onFolderSelect:f})=>{const{t:d}=K(C),[S,l]=a.useState(null),[g,W]=a.useState(!1),[w,I]=a.useState("sessions"),[T,F]=a.useState(null),[N,$]=a.useState(""),_=a.useRef(null),n=B||{ui:{bg:"#1e1e2e",bgSecondary:"#181825",bgTertiary:"#313244",border:"#313244",text:"#cdd6f4",textSecondary:"#6c7086",accent:"#89b4fa",iconColor:"#cdd6f4"},green:"#a6e3a1",red:"#f38ba8"},H=(r,u)=>r.name||`Terminal ${u+1}`,P=r=>r.substring(0,8),A=(r,u)=>{F(r.id),$(r.name||`Terminal ${u+1}`)},D=async()=>{T&&N.trim()&&k&&await k(T,N.trim()),F(null),$("")},o=()=>{F(null),$("")};return a.useEffect(()=>{T&&_.current&&(_.current.focus(),_.current.select())},[T]),t?e.jsxs(e.Fragment,{children:[p&&e.jsx("div",{style:s.overlay,onClick:m}),e.jsxs("div",{style:{...s.sidebar,backgroundColor:n.ui.bg,borderRightColor:n.ui.border,width:p?"min(80vw, 250px)":`${M}px`,maxWidth:p?"80vw":"400px",minWidth:p?void 0:"180px",top:p?"0":"33px",height:p?"100vh":"auto"},children:[p&&e.jsxs("div",{style:{...s.header,backgroundColor:n.ui.bgSecondary,borderBottomColor:n.ui.border},children:[e.jsx("h2",{style:{...s.title,color:n.ui.accent},children:d("sessions")||"Sessions"}),e.jsx("button",{onClick:m,onMouseEnter:()=>W(!0),onMouseLeave:()=>W(!1),style:{...s.closeBtn,color:n.ui.text,backgroundColor:g?n.ui.bgTertiary:"transparent"},title:d("closeSidebar"),children:e.jsx(X,{size:20,strokeWidth:2})})]}),e.jsxs("div",{style:{...s.tabHeader,borderBottomColor:n.ui.border,backgroundColor:n.ui.bgSecondary},children:[e.jsxs("button",{onClick:()=>I("sessions"),style:{...s.tab,color:w==="sessions"?n.ui.accent:n.ui.textSecondary,borderBottomColor:w==="sessions"?n.ui.accent:"transparent",borderRightColor:n.ui.border},children:[e.jsx(q,{size:14,strokeWidth:2}),e.jsx("span",{children:"ì„¸ì…˜"})]}),e.jsxs("button",{onClick:()=>I("files"),style:{...s.tab,color:w==="files"?n.ui.accent:n.ui.textSecondary,borderBottomColor:w==="files"?n.ui.accent:"transparent",borderRightColor:n.ui.border},children:[e.jsx(de,{size:14,strokeWidth:2}),e.jsx("span",{children:"íŒŒì¼"})]})]}),w==="sessions"&&e.jsx("div",{style:{...s.newSessionContainer,borderBottomColor:n.ui.border},children:e.jsxs("button",{onClick:E,style:{...s.newSessionBtn,backgroundColor:n.ui.accent,color:n.ui.bg},children:[e.jsx("span",{style:s.plusIcon,children:"+"}),d("newSession")]})}),w==="sessions"&&e.jsx("div",{style:s.sessionList,children:c.length===0?e.jsxs("div",{style:s.emptyState,children:[e.jsx("p",{style:{...s.emptyText,color:n.ui.textSecondary},children:d("noTerminals")}),e.jsx("p",{style:{...s.emptyHint,color:n.ui.textSecondary,opacity:.9},children:d("createFirstTerminal")})]}):c.map((r,u)=>{const v=r.id===L,Y=r.id===S;return e.jsxs("div",{style:{...s.sessionItem,backgroundColor:v?n.ui.bgTertiary:n.ui.bgSecondary,borderColor:v?n.ui.accent:Y?n.ui.border:"transparent"},onMouseEnter:()=>l(r.id),onMouseLeave:()=>l(null),children:[e.jsxs("div",{style:s.sessionInfo,onClick:()=>{z(r.id),p&&m()},children:[e.jsx("div",{style:{...s.sessionIcon,color:n.ui.accent},children:e.jsx(q,{size:14,strokeWidth:2})}),e.jsxs("div",{style:s.sessionDetails,children:[T===r.id?e.jsx("input",{ref:_,type:"text",value:N,onChange:h=>$(h.target.value),onBlur:D,onKeyDown:h=>{h.key==="Enter"?D():h.key==="Escape"&&o()},onClick:h=>h.stopPropagation(),style:{...s.sessionNameInput,backgroundColor:n.ui.bgTertiary,color:n.ui.text,borderColor:n.ui.accent}}):e.jsx("div",{style:{...s.sessionName,color:n.ui.text},onDoubleClick:h=>{h.stopPropagation(),A(r,u)},children:H(r,u)}),e.jsx("div",{style:{...s.sessionId,color:n.ui.textSecondary},children:P(r.id)})]})]}),e.jsx("button",{onClick:h=>{h.stopPropagation(),x&&x(r.id)},style:{...s.sessionActionBtn,color:n.ui.accent,opacity:p?1:.7},title:"ìž¬ì—°ê²°",children:e.jsx(xe,{size:14,strokeWidth:2})}),e.jsx("button",{onClick:h=>{h.stopPropagation(),R(r.id)},style:{...s.sessionCloseBtn,color:n.red,opacity:p?1:.7},title:d("closeTerminal"),children:e.jsx(X,{size:16,strokeWidth:2.5})})]},r.id)})}),w==="files"&&e.jsx(ge,{theme:n,onFileSelect:y,onFolderSelect:f,language:C}),e.jsx("div",{style:{...s.footer,backgroundColor:n.ui.bgSecondary,borderTopColor:n.ui.border},children:e.jsxs("div",{style:s.footerInfo,children:[e.jsxs("div",{style:s.footerLeft,children:[e.jsx(ne,{size:14,strokeWidth:2,style:{color:n.ui.accent}}),e.jsxs("span",{style:{...s.footerLabel,color:n.ui.textSecondary},children:[d("activeTerminals"),":"]})]}),e.jsx("span",{style:{...s.footerValue,color:n.ui.accent},children:c.length})]})}),!p&&j&&e.jsx("div",{onMouseDown:j,style:s.resizeHandle,title:d("resizeSidebar")})]})]}):null},s={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,width:"100%",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:9998,animation:"fadeIn 0.2s ease"},sidebar:{position:"fixed",top:"32px",left:0,bottom:0,width:"250px",maxWidth:"80vw",zIndex:9999,display:"flex",flexDirection:"column",borderRight:"1px solid"},tabHeader:{display:"flex",borderBottom:"1px solid",gap:"1px"},tab:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",padding:"10px",fontSize:"12px",fontWeight:"500",background:"none",border:"none",borderRight:"1px solid",borderBottom:"2px solid transparent",cursor:"pointer",transition:"color 0.15s ease, border-color 0.15s ease, background-color 0.15s ease"},header:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",padding:"0",borderBottom:"1px solid",height:"32px",boxSizing:"border-box"},title:{margin:0,fontSize:"13px",fontWeight:"600"},closeBtn:{position:"absolute",right:"8px",background:"none",border:"none",cursor:"pointer",padding:"6px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"2px",transition:"background-color 0.15s ease"},newSessionContainer:{padding:"8px",borderBottom:"1px solid"},newSessionBtn:{width:"100%",padding:"10px 12px",border:"none",borderRadius:"2px",fontSize:"13px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",transition:"opacity 0.15s ease"},plusIcon:{fontSize:"16px",fontWeight:"600"},sessionList:{flex:1,overflowY:"auto",padding:"8px"},emptyState:{textAlign:"center",padding:"40px 20px"},emptyText:{fontSize:"14px",margin:"0 0 8px 0"},emptyHint:{fontSize:"12px",margin:0},sessionItem:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px",marginBottom:"8px",borderRadius:"2px",border:"1px solid transparent",cursor:"pointer",transition:"background-color 0.15s ease, border 0.15s ease"},sessionInfo:{flex:1,display:"flex",alignItems:"center",gap:"12px",minWidth:0},sessionIcon:{fontSize:"12px",width:"16px",textAlign:"center"},sessionDetails:{flex:1,minWidth:0},sessionName:{fontSize:"12px",fontWeight:"500",marginBottom:"2px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",cursor:"default"},sessionNameInput:{width:"100%",fontSize:"12px",fontWeight:"500",padding:"2px 4px",border:"1px solid",borderRadius:"2px",outline:"none",marginBottom:"2px"},sessionId:{fontSize:"10px",fontFamily:"monospace"},sessionActionBtn:{background:"none",border:"none",cursor:"pointer",padding:"4px",borderRadius:"2px",transition:"background-color 0.15s ease, opacity 0.15s ease",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"4px"},sessionCloseBtn:{background:"none",border:"none",cursor:"pointer",padding:"4px",borderRadius:"2px",transition:"background-color 0.15s ease, opacity 0.15s ease",display:"flex",alignItems:"center",justifyContent:"center"},footer:{padding:"8px 12px",borderTop:"1px solid"},footerInfo:{display:"flex",justifyContent:"space-between",alignItems:"center"},footerLeft:{display:"flex",alignItems:"center",gap:"6px"},footerLabel:{fontSize:"12px"},footerValue:{fontSize:"13px",fontWeight:"600"},resizeHandle:{position:"absolute",top:0,right:0,bottom:0,width:"4px",cursor:"ew-resize",backgroundColor:"transparent",transition:"background-color 0.15s ease",zIndex:1e4}};if(!document.getElementById("sidebar-animations")){const t=document.createElement("style");t.id="sidebar-animations",t.textContent=`
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes slideInLeft {
      from {
        transform: translateX(-100%);
        opacity: 0.8;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }
  `,document.head.appendChild(t)}const Ce=a.memo(be);export{Ce as default};
